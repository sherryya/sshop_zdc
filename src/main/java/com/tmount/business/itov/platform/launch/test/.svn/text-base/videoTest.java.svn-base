package com.tmount.business.itov.platform.launch.test;
import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import java.net.URLEncoder;
import java.util.HashMap;
import java.util.Map;
import com.tmount.business.itov.platform.launch.config.LaunchConfig;
import com.tmount.business.itov.platform.launch.sign.MD5;
import com.tmount.business.itov.platform.launch.util.LaunchNotify;
import com.tmount.business.itov.platform.launch.util.UtilDate;
import com.tmount.util.FileUtils;
public class videoTest {
	public static void main(String[] args) throws UnsupportedEncodingException {

		
		   //视频分类查询
/*        Map paramMap = new HashMap();//传递body内容
			paramMap.put("cid","36");
			paramMap.put("num","20");
			paramMap.put("page","1");
			String str=LaunchNotify.getSignVeryfy2(paramMap);
			String datetimestamp=UtilDate.getOrderNum();
	     	String str1=str+"#1000000010#0e4f13954bc537ec#"+datetimestamp;
	     	String sign=MD5.verify2(str1, LaunchConfig.develop_key, LaunchConfig.input_charset);
	     	String url="http://oapi.56.com/video/channel.json?cid=36&num=20&page=1&sign="+sign+"&appkey=1000000010&ts="+datetimestamp+"";
	     	String json = LaunchNotify.checkUrl(url);
	     	System.out.println(json);
	    	System.out.println(URLDecoder.decode(json,"utf-8"));
	    	String ret=convert(json);
	    	System.out.println(ret);*/
	    	
	    	// ret=FileUtils.convert("\\u7f8e\\u56fd\\u9065\\u9065\\u9886\\u5148\\u82ac\\u5170\\u8981\\u8d85\\u795e");
	    	//System.out.println("ddd:"+ret);
		
		
		//  http://oapi.56.com/video/search.json?c=1&keyword=%25E8%25B5%25B5%25E6%2596%2587%25E5%258D%2593&page=1&rows=10&s=1&t=month&sign=34ef6df5e6f792345349318ade878a8c&appkey=1000000009&ts=1335592845
		
		//按关键字查询
		/*String keyword= URLEncoder.encode("王宝强","utf-8");
		Map paramMap = new HashMap();//传递body内容
		paramMap.put("c","1");
		paramMap.put("keyword",keyword);
		paramMap.put("page","1");
		paramMap.put("rows","10");
		paramMap.put("s","1");
		paramMap.put("t","month");
		paramMap.put("page","1");
		String str=LaunchNotify.getSignVeryfy2(paramMap);
		String datetimestamp=UtilDate.getOrderNum();
     	String str1=str+"#1000000010#0e4f13954bc537ec#"+datetimestamp;
     	String sign=MD5.verify2(str1, LaunchConfig.develop_key, LaunchConfig.input_charset);
     	String url="http://oapi.56.com/video/search.json?c=1&keyword="+keyword+"&page=1&rows=10&s=1&t=month&sign="+sign+"&appkey=1000000010&ts="+datetimestamp+"";
     	String json = LaunchNotify.checkUrl(url);
     	System.out.println(json);
    	System.out.println(URLDecoder.decode(json,"utf-8"));
    	String ret=convert(json);
    	System.out.println(ret);*/
    	
    	
		//按视频ID查询
/*	    Map paramMap = new HashMap();//传递body内容
		paramMap.put("vid","127580213");
		String str=LaunchNotify.getSignVeryfy2(paramMap);
		String datetimestamp=UtilDate.getOrderNum();
     	String str1=str+"#1000000010#0e4f13954bc537ec#"+datetimestamp;
     	String sign=MD5.verify2(str1, LaunchConfig.develop_key, LaunchConfig.input_charset);
     	String url="http://oapi.56.com/video/getVideoInfo.json?vid=127580213&sign="+sign+"&appkey=1000000010&ts="+datetimestamp+"";
     	String json = LaunchNotify.checkUrl(url);
     	System.out.println(json);
    	System.out.println(URLDecoder.decode(json,"utf-8"));
    	String ret=convert(json);
    	System.out.println(ret);*/
    	
    	
    	
    	
    	
		//获得推荐分类的信息
		//http://oapi.56.com/video/recommend.json?mid=1&num=10&page=1&sign=e7a4e0dd9edb004d9d8426756e228034&appkey=1000000009&ts=133610307
/*   	Map paramMap = new HashMap();//传递body内容
		paramMap.put("mid","8");
		paramMap.put("num","10");
		paramMap.put("page","1");
		String str=LaunchNotify.getSignVeryfy2(paramMap);
		String datetimestamp=UtilDate.getOrderNum();
     	String str1=str+"#1000000010#0e4f13954bc537ec#"+datetimestamp;
     	String sign=MD5.verify2(str1, LaunchConfig.develop_key, LaunchConfig.input_charset);
     	String url="http://oapi.56.com/video/recommend.json?mid=8&num=10&page=1&sign="+sign+"&appkey=1000000010&ts="+datetimestamp+"";
     	String json = LaunchNotify.checkUrl(url);
     	System.out.println(json);
    	System.out.println(URLDecoder.decode(json,"utf-8"));
    	String ret=convert(json);
    	System.out.println(ret);*/
		//获得首页热门的信息
		
		
		//http://oapi.56.com/video/hot.json?cid=2&num=10&page=1&sign=3083396364ea7879455402e5c38807f5&appkey=1000000009&ts=1336110446
		
/*		Map paramMap = new HashMap();//传递body内容
		paramMap.put("cid","2");
		paramMap.put("num","20");
		paramMap.put("page","1");
		String str=LaunchNotify.getSignVeryfy2(paramMap);
		String datetimestamp=UtilDate.getOrderNum();
     	String str1=str+"#1000000010#0e4f13954bc537ec#"+datetimestamp;
     	String sign=MD5.verify2(str1, LaunchConfig.develop_key, LaunchConfig.input_charset);
     	String url="http://oapi.56.com/video/hot.json?cid=2&num=20&page=1&sign="+sign+"&appkey=1000000010&ts="+datetimestamp+"";
     	String json = LaunchNotify.checkUrl(url);
     	System.out.println(json);
    	System.out.println(URLDecoder.decode(json,"utf-8"));
    	String ret=convert(json);
    	System.out.println(ret);*/
    

		// System.out.println("Format To Date:"+date);
/*   	String datetimestamp=UtilDate.getOrderNum();
     String keyword= URLEncoder.encode("后来","utf-8");
     //http://mp3.baidu.com/dev/api/?tn=getinfo&ct=0&word=%E6%98%A5%E6%9A%96%E8%8A%B1%E5%BC%80&ie=utf-8&format=xml
     String r="http://tingapi.ting.baidu.com/v1/restserver/ting?from=webapp_music&method=baidu.ting.search.catalogSug&format=json&callback=&query=%E4%BC%A4&_=1413017198449";
    String rr="http://ting.baidu.com/data/music/links?songIds=122676549";
    
    String json = LaunchNotify.checkUrl(rr);
 	System.out.println(json);
	System.out.println(URLDecoder.decode(json,"utf-8"));
	String ret=convert(json);
	System.out.println(ret);
		*/
		
		
/*		
		String arr="http://c.hiphotos.baidu.com/ting/pic/item/http://qukufile2.qianqian.com/data2/pic/122112253/122112253.jpg.jpg";
		String arr1="http://c.hiphotos.baidu.com/ting/pic/item/58ee3d6d55fbb2fbb60b53674c4a20a44623dca7.jpg";
		String [] arr2=arr1.trim().split("http:");
		if(arr2.length==2)
		{
		System.out.println(arr1);
		}
		else if(arr2.length==3)
		{
			String song=arr2[2].split(".jpg")[0].toString();
			song="http:"+song+".jpg";
			System.out.println(song);
			
		}*/
		
		
		
		
		
		
		
		
		
		//优酷视频测试
		
		
	   	 String datetimestamp=UtilDate.getOrderNum();
	     String keyword= URLEncoder.encode("后来","utf-8");
	     //http://mp3.baidu.com/dev/api/?tn=getinfo&ct=0&word=%E6%98%A5%E6%9A%96%E8%8A%B1%E5%BC%80&ie=utf-8&format=xml
	   //  String r="https://openapi.youku.com/v2/searches/video/by_keyword.json?client_id=7efeef10117b0980&keyword="+keyword;
	   String r="https://openapi.youku.com/v2/videos/show_basic.json?client_id=7efeef10117b0980&video_id=XODAzMTQ1ODEy";
	    
	    String json = LaunchNotify.checkUrl(r);
	 	System.out.println(json);
		System.out.println(URLDecoder.decode(json,"utf-8"));
		String ret=convert(json);
		System.out.println(ret);
			
	}
	
	
	public static String convert(String utfString){
		StringBuilder sb = new StringBuilder();
		int i = -1;
		int pos = 0;
		
		while((i=utfString.indexOf("\\u", pos)) != -1){
			sb.append(utfString.substring(pos, i));
			if(i+5 < utfString.length()){
				pos = i+6;
				sb.append((char)Integer.parseInt(utfString.substring(i+2, i+6), 16));
			}
		}
		
		return sb.toString();
	}
}
